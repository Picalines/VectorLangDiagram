@using VectorLangDocs.Shared.DocumentationModel

@page "/type/{TypeName}"

@{
    LanguageDocumentation.Types.TryGet(TypeName, out var typeDocumentation);
}

@if (typeDocumentation is null)
{
    <h1>Type not found</h1>
}
else
{
    <h1>@typeDocumentation.Name</h1>

    @typeDocumentation.Summary

    var items = typeDocumentation.Fields.Items
        .AsEnumerable<DocumentationItem>()
        .Concat(typeDocumentation.Methods.Items)
        .Concat(typeDocumentation.UnaryOperators.Items)
        .Concat(typeDocumentation.BinaryOperators.Items);

    <DocumentationRepositoryViewer Items="items" />
}

@code {
    [CascadingParameter]
    public VectorLangDocumentation LanguageDocumentation { get; set; } = null!;

    [Parameter]
    public string TypeName { get; set; } = null!;
}
